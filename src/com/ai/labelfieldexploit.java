package com.ai;

import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.XYEdges;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.container.HorizontalFieldManager;
import java.util.Vector;

public class labelfieldexploit extends LabelField 
{
	private moneyhorizontalfiedlmanager  hf;
	private Vector params;
	private int colorlabel;
	public labelfieldexploit(String value,long style, moneyhorizontalfiedlmanager hf, Vector actionTuits, int cololabel)
	{
		super(value,style);
		this.hf=hf;
		this.hf.setLf(this);
		this.colorlabel=cololabel;
		this.params=actionTuits;
	}
	public boolean navigationClick(int status, int time)
	{
		
		if(hf.getFieldCount()==0)
		{
			this.buildbuttontool(this.hf);
			this.setText("-");
		}
		else
		{
			this.hf.deleteAll();
			this.setText("+");
		}
		return true;
	}
    public void paint(Graphics graphics)
    {
        graphics.setColor(this.colorlabel);
        super.paint(graphics);
    }	
	private void buildbuttontool(HorizontalFieldManager mMenuManager)
	{
			int idtienda=this.searchIdTienda();
			for (int i=0; i<this.params.size();i++)
			{
				if ( !((parameter)this.params.elementAt(i)).getName().equals("idtienda") )
				{
					labelhyperlink detaillhl1=new labelhyperlink((parameter)this.params.elementAt(i) );
					detaillhl1.setIdtienda(idtienda);
					detaillhl1.setPadding(new XYEdges(0, 5, 0, 5));
		            mMenuManager.add(detaillhl1);
				}
			}
        //}
	}
	private int searchIdTienda()
	{
		int i=0;
		for (; i<this.params.size();i++)
		{
			if ( ((parameter)this.params.elementAt(i)).getName().equals("idtienda") )
				break;
		}
		if (i<this.params.size())
			return ((Integer)((parameter)this.params.elementAt(i)).getValue()).intValue();
		else
			return 1;
	}

}
